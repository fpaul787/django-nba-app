(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{155:function(e,a,t){e.exports=t.p+"static/media/spinner.0c6f34a3.gif"},179:function(e,a,t){e.exports=t(337)},205:function(e,a,t){},206:function(e,a,t){},337:function(e,a,t){"use strict";t.r(a);var n={};t.r(n),t.d(n,"GET_GAMES",(function(){return d})),t.d(n,"AUTH_START",(function(){return p})),t.d(n,"AUTH_SUCCESS",(function(){return f})),t.d(n,"AUTH_FAIL",(function(){return h})),t.d(n,"AUTH_LOGOUT",(function(){return E}));var r=t(0),l=t.n(r),o=t(14),c=t.n(o),i=t(26),m=t(34),s=t(152),u=t(153),g=t(84),d="GET_GAMES",p="AUTH_START",f="AUTH_SUCCESS",h="AUTH_FAIL",E="AUTH_LOGOUT",b={games:[]},v=function(e,a){return Object(g.a)({},e,{},a)},w={token:null,error:null,loading:!1},y=function(e,a){return v(e,{error:null,loading:!0})},T=function(e,a){return v(e,{token:a.token,error:null,loading:!1})},k=function(e,a){return v(e,{error:a.error,loading:!1})},x=function(e,a){return v(e,{token:null})},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,a=arguments.length>1?arguments[1]:void 0;switch(n){case p:return y(e);case f:return T(e,a);case h:return k(e,a);case E:return x(e);default:return e}},D=Object(m.combineReducers)({gamesReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case d:return console.log(a.payload),Object(g.a)({},e,{games:Object.assign({},e,{games:a.payload})});default:return e}},authReducer:I}),N=[u.a],O=Object(m.createStore)(D,{},Object(s.composeWithDevTools)(m.applyMiddleware.apply(void 0,N))),j=t(20),A=t(41),S={textAlign:"center"};function G(){return l.a.createElement("div",null,l.a.createElement("body",{style:S},"Track the stat leaders for any game! Click on track games to begin"))}var P=t(109),L=t.n(P),C=function(){return{type:p}},F=function(e){return{type:f,token:e}},R=function(e){return{type:h,error:e}},U=function(){return localStorage.removeItem("user"),localStorage.removeItem("expirationDate"),{type:E}},_=function(e){return function(a){setTimeout((function(){a(U())}),1e3*e)}};var H=Object(A.f)(Object(i.b)(null,(function(e){return{logout:function(){return e(U())}}}))((function(e){return l.a.createElement("div",null,l.a.createElement("nav",{className:"navbar navbar-light bg-dark",role:"navigation","aria-label":"main navigation"},l.a.createElement("div",null,l.a.createElement(j.b,{className:"navbar-brand",to:"/"},"Logo")),l.a.createElement("div",{className:"mr-auto ml-auto"},l.a.createElement("div",{className:"navbar-item"},l.a.createElement(j.b,{to:"/games",className:"btn btn-md btn-outline-secondary mx-2"},l.a.createElement("strong",null,"Track Games")))),l.a.createElement("div",{className:""},l.a.createElement("div",{className:"navbar-item"},e.auth.isAuthenticated?l.a.createElement(j.b,{className:"btn btn-md btn-outline-secondary mx-2",onClick:e.logout},l.a.createElement("strong",null,"Logout")):l.a.createElement("div",null,l.a.createElement(j.b,{to:"/login",className:"btn btn-md btn-outline-secondary mx-2"},l.a.createElement("strong",null,"Login")),l.a.createElement(j.b,{to:"/register",className:"btn btn-md btn-outline-secondary mx-2"},l.a.createElement("strong",null,"Register")))))))}))),W=t(57),q=t.n(W),B=t(75),V=t(40),M=t(361),z=t(362),Y=t(363),J=t(367),X=t(364),$=t(155),K=t.n($),Q=function(){return l.a.createElement(r.Fragment,null,l.a.createElement("img",{src:K.a,style:{width:"200px",margin:"auto",display:"block"},alt:"Loading..."}))},Z=t(353),ee=Object(Z.a)({root:{flexGrow:1},gamesPaper:{paddingRight:50,paddingLeft:50,marginBottom:30,height:500,width:300,overflowY:"auto",background:"#343a40"},showGamesItem:{marginLeft:-50,width:"auto",height:"auto","& p":{textAlign:"center",color:"black",marginTop:30}},gameInfoItem:{background:"white",minWidth:300,width:"auto",height:300},ListItem:{background:"pink",textAlign:"center",marginTop:30,marginBottom:30},datePickerGrid:{marginLeft:70,marginTop:50},gamesDisplayGrid:{marginLeft:40,marginTop:50},gameTableGrid:{marginLeft:70,marginTop:50}}),ae=t(355),te=t(356),ne=t(357),re=t(358),le=t(359),oe=t(360),ce=t(86),ie=Object(Z.a)({gameInfotable:{background:"#343a40",minWidth:600,width:"auto",height:300,marginRight:30,overflowX:"scroll"},table:{minWidth:500,width:"auto",background:"pink"},title:{flex:"1 1 100%",textAlign:"center"}}),me=function(e){var a=e.gameData,t=Object(r.useState)(),n=Object(V.a)(t,2),o=n[0],c=n[1];function i(){return(i=Object(B.a)(q.a.mark((function e(){var t,n,r,l,o;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==a){e.next=4;break}c(null),e.next=14;break;case 4:return t=a.gameId,n=a.startDateEastern,r="http://127.0.0.1:8000/games/".concat(n,"/").concat(t),e.next=9,fetch(r);case 9:return l=e.sent,e.next=12,l.json();case 12:o=e.sent,c(o);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(r.useEffect)((function(){!function(){i.apply(this,arguments)}()}),[a]);var m=ie();if(null===a)return l.a.createElement(r.Fragment,null,l.a.createElement(ae.a,null,l.a.createElement(ce.a,{variant:"h6",id:"tableTitle"},"Please choose a Game")));if(null==o)return l.a.createElement(Q,null);if(null!=o&&null==o.stats)return l.a.createElement(r.Fragment,null,l.a.createElement("div",null,l.a.createElement(ce.a,{className:m.title,variant:"h6",id:"tableTitle"},"No stats available now. Check again when the game starts."),l.a.createElement(ae.a,{className:m.gameInfoTable},l.a.createElement(te.a,{className:m.gameInfotable,"aria-label":"simple table"},l.a.createElement(ne.a,null,l.a.createElement(re.a,null,l.a.createElement(le.a,null,"Game Start"))),l.a.createElement(oe.a,null,l.a.createElement(re.a,null,l.a.createElement(le.a,{component:"th"},o.basicGameData.startTimeEastern)))))));console.log(o);var s=o.stats.vTeam.leaders,u=o.stats.hTeam.leaders;return l.a.createElement(r.Fragment,null,l.a.createElement(M.a,{item:!0,xs:12,sm:6,className:m.gameInfotable},l.a.createElement(ae.a,{className:m.table},l.a.createElement(ce.a,{className:m.title,variant:"h6",id:"tableTitle"},o.basicGameData.vTeam.triCode+" VS "+o.basicGameData.hTeam.triCode),l.a.createElement(te.a,{"aria-label":"simple table"},l.a.createElement(ne.a,null,l.a.createElement(re.a,null,l.a.createElement(le.a,null,"Team"),l.a.createElement(le.a,null,"Points"),l.a.createElement(le.a,null,"Rebounds"),l.a.createElement(le.a,null,"Assist"))),l.a.createElement(oe.a,null,l.a.createElement(re.a,null,l.a.createElement(le.a,{component:"th"},o.basicGameData.vTeam.triCode),l.a.createElement(le.a,null,s.points.players[0].lastName+": "+s.points.value),l.a.createElement(le.a,null,s.rebounds.players[0].lastName+": "+s.rebounds.value),l.a.createElement(le.a,null,s.assists.players[0].lastName+": "+s.assists.value)),l.a.createElement(re.a,null,l.a.createElement(le.a,{component:"th"},o.basicGameData.hTeam.triCode),l.a.createElement(le.a,null,u.points.players[0].lastName+": "+u.points.value),l.a.createElement(le.a,null,u.rebounds.players[0].lastName+": "+u.rebounds.value),l.a.createElement(le.a,null,u.assists.players[0].lastName+": "+u.assists.value)))))))},se=t(174),ue=(t(205),Object(Z.a)({root:{flexGrow:1},gamesPaper:{paddingRight:50,paddingLeft:50,marginBottom:30,height:500,width:300,overflowY:"auto",background:"#343a40"},showGamesItem:{marginLeft:-50,width:"auto",height:"auto","& p":{textAlign:"center",color:"black",marginTop:30}},gameInfoItem:{background:"white",minWidth:300,width:"auto",height:300},ListItem:{background:"pink",textAlign:"center",marginTop:30,marginBottom:30},table:{minWidth:300,width:"auto"},title:{flex:"1 1 100%",textAlign:"center"},datePickerGrid:{marginLeft:100,marginTop:50},gamesDisplayGrid:{marginLeft:100,marginTop:50},datePicker:{backgroundColor:"#D3D3D3",width:280,fontSize:"large",textAlign:"center"},gameTableGrid:{marginLeft:100,marginTop:50,backgroundColor:"red"}}));function ge(e){var a=e.gamesDate,t=e.handleClick,n=ue();return l.a.createElement("div",null,l.a.createElement(M.a,null,l.a.createElement("div",null,l.a.createElement(se.a,{selected:a,value:a,onChange:function(e){t(e)},minDate:new Date(2015,10,6),maxDate:new Date(2020,2,11),className:n.datePicker}))))}function de(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];null==e&&(e=new Date);var n=e.getDate(),r=e.getMonth()+1,l=e.getFullYear();return t?"".concat(r<10?"0".concat(r):"".concat(r)).concat(a).concat(n<10?"0".concat(n):"".concat(n)).concat(a).concat(l):"".concat(l).concat(a).concat(r<10?"0".concat(r):"".concat(r)).concat(a).concat(n<10?"0".concat(n):"".concat(n))}var pe=function(){var e=Object(r.useState)(null),a=Object(V.a)(e,2),t=a[0],n=a[1],o=Object(r.useState)(null),c=Object(V.a)(o,2),i=c[0],m=c[1],s=Object(r.useState)(null),u=Object(V.a)(s,2),g=u[0],d=u[1],p=ee();function f(){return(f=Object(B.a)(q.a.mark((function e(){var a,t,r;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null===g&&d(new Date(2020,2,11)),a=de(g),e.prev=2,e.next=5,fetch("http://127.0.0.1:8000/games/".concat(a));case 5:return t=e.sent,e.next=8,t.json();case 8:r=e.sent,n(r),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[2,12]])})))).apply(this,arguments)}if(Object(r.useEffect)((function(){!function(){f.apply(this,arguments)}()}),[g]),null==t)return l.a.createElement(Q,null);var h=t.games;return l.a.createElement(M.a,{container:!0,direction:"row",alignItems:"flex-start",spacing:1,className:p.root},l.a.createElement(M.a,{className:p.datePickerGrid,item:!0,xs:2},l.a.createElement("h4",null,"Pick a date "),l.a.createElement(ge,{gamesDate:new Date,handleClick:function(e){d(e)}})),l.a.createElement(M.a,{className:p.gamesDisplayGrid,item:!0,xs:3},l.a.createElement("h4",null,"Games on ",de(g,"/",!0),":"),l.a.createElement(z.a,{className:p.gamesPaper},l.a.createElement(r.Fragment,null,l.a.createElement(Y.a,null,h.map((function(e){return l.a.createElement(J.a,{key:e.gameId,button:!0,className:p.ListItem,onClick:function(){m(e)}},l.a.createElement(X.a,{primary:e.vTeam.triCode+" VS "+e.hTeam.triCode}))})))))),l.a.createElement(M.a,{container:!0,item:!0,xs:4,spacing:3,className:p.gameTableGrid},l.a.createElement("h4",null,"Game Track"),l.a.createElement(me,{gameData:i})))},fe=t(366),he=t(368),Ee=t(115),be=t(369),ve=t(370),we=(t(206),t(365)),ye=Object(i.b)((function(e){return{loading:e.loading,error:e.error}}),(function(e){return{onAuth:function(a,t){return e(function(e,a){return function(t){t(C()),L.a.post("http://127.0.0.1:8000/rest-auth/login/",{username:e,password:a}).then((function(e){var a=e.data.key,n=new Date((new Date).getTime()+36e5);localStorage.setItem("token",a),localStorage.setItem("expirationDate",n),t(F(a)),t(_(3600))})).catch((function(e){t(R(e)),console.log("Could not login :(",e)}))}}(a,t))}}}))((function(e){var a=null;return e.error&&(a=l.a.createElement("p",null,e.error.message)),l.a.createElement("div",null,a,e.loading?l.a.createElement(we.a,null):l.a.createElement(fe.a,{name:"normal_login",className:"login-form",initialValues:{remember:!0},onFinish:function(a){e.onAuth(a.username,a.Password),e.history.push("/")}},l.a.createElement(fe.a.Item,{name:"username",rules:[{required:!0,message:"Please input your Username!"}]},l.a.createElement(he.a,{prefix:l.a.createElement(be.a,{className:"site-form-item-icon"}),placeholder:"Username"})),l.a.createElement(fe.a.Item,{name:"password",rules:[{required:!0,message:"Please input your Password!"}]},l.a.createElement(he.a,{prefix:l.a.createElement(ve.a,{className:"site-form-item-icon"}),type:"password",placeholder:"Password"})),l.a.createElement(fe.a.Item,null,l.a.createElement(fe.a.Item,{name:"remember",valuePropName:"checked",noStyle:!0}),l.a.createElement("a",{className:"login-form-forgot",href:""},"Forgot password")),l.a.createElement(fe.a.Item,null,l.a.createElement(Ee.a,{type:"primary",htmlType:"submit",style:{marginRight:"10px"}},"Login"),"Or",l.a.createElement(j.b,{style:{marginLeft:"10px",marginRight:"10px"},to:"/register"},"Sign Up"))))})),Te=Object(i.b)((function(e){return{loading:e.loading,error:e.error}}),(function(e){return{onAuth:function(a,t,n,r){return e(function(e,a,t,n){return function(r){r(C()),L.a.post("http://127.0.0.1:8000/rest-auth/registration",{username:e,email:a,password1:t,password2:n}).then((function(e){var a=e.data.key,t=new Date((new Date).getTime()+36e5);localStorage.setItem("token",a),localStorage.setItem("expirationDate",t),r(F(a)),r(_(3600))})).catch((function(e){r(R(e)),console.log("Could not register",e)}))}}(a,t,n,r))}}}))((function(e){var a=fe.a.useForm(),t=Object(V.a)(a,1)[0];return l.a.createElement(fe.a,{form:t,name:"register",onFinish:function(a){e.onAuth(a.username,a.email,a.password1,a.password2,a.confirm)},initialValues:{residence:["zhejiang","hangzhou","xihu"],prefix:"86"},scrollToFirstError:!0},l.a.createElement(fe.a.Item,{name:"email",label:"E-mail",rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your E-mail!"}]},l.a.createElement(he.a,null)),l.a.createElement(fe.a.Item,{name:"username",label:"Username",rules:[{required:!0,message:"Please input your username!"}]},l.a.createElement(he.a,null)),l.a.createElement(fe.a.Item,{name:"password",label:"Password",rules:[{required:!0,message:"Please input your password!"}],hasFeedback:!0},l.a.createElement(he.a.Password,null)),l.a.createElement(fe.a.Item,{name:"confirm",label:"Confirm Password",dependencies:["password"],hasFeedback:!0,rules:[{required:!0,message:"Please confirm your password!"},function(e){var a=e.getFieldValue;return{validator:function(e,t){return t&&a("password")!==t?Promise.reject("The two passwords that you entered do not match!"):Promise.resolve()}}}]},l.a.createElement(he.a.Password,null)),l.a.createElement(fe.a.Item,null,l.a.createElement(Ee.a,{type:"primary",htmlType:"submit",style:{marginRight:"10px"}},"Register"),"Or",l.a.createElement(j.b,{style:{marginLeft:"10px",marginRight:"10px"},to:"/login"},"Login")))}));var ke=Object(i.b)((function(e){return{isAuthenticated:null!==e.authReducer.token}}),(function(e){return{onTryAutoSignup:function(){return e((function(e){var a=localStorage.getItem("token");if(void 0===a)e(U());else{var t=new Date(localStorage.getItem("expirationDate"));t<=new Date?e(U()):(e(F(a)),e(_(t.getTime()-(new Date).getTime())/1e3))}}))}}}))((function(e){return Object(r.useEffect)((function(){e.onTryAutoSignup()})),l.a.createElement(j.a,null,l.a.createElement(r.Fragment,null,l.a.createElement(H,{auth:e}),l.a.createElement(A.c,null,l.a.createElement(A.a,{exact:!0,path:"/",component:G}),l.a.createElement(A.a,{exact:!0,path:"/games",component:pe}),l.a.createElement(A.a,{exact:!0,path:"/login",component:ye}),l.a.createElement(A.a,{exact:!0,path:"/register",component:Te}))))}));t(335),t(336),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var xe=l.a.createElement(i.a,{store:O},l.a.createElement(ke,null));c.a.render(xe,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[179,1,2]]]);
//# sourceMappingURL=main.0ae45156.chunk.js.map