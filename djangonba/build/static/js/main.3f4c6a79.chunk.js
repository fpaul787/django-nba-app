(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{155:function(e,a,t){e.exports=t.p+"static/media/spinner.0c6f34a3.gif"},179:function(e,a,t){e.exports=t(337)},205:function(e,a,t){},206:function(e,a,t){},337:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(14),o=t.n(l),c=t(26),i=t(34),m=t(152),s=t(153),u=t(84),g={games:[]},d=function(e,a){return Object(u.a)({},e,{},a)},p={token:null,error:null,loading:!1},h=function(e,a){return d(e,{error:null,loading:!0})},f=function(e,a){return d(e,{token:a.token,error:null,loading:!1})},E=function(e,a){return d(e,{error:a.error,loading:!1})},b=function(e,a){return d(e,{token:null})},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"AUTH_START":return h(e);case"AUTH_SUCCESS":return f(e,a);case"AUTH_FAIL":return E(e,a);case"AUTH_LOGOUT":return b(e);default:return e}},w=Object(i.combineReducers)({gamesReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"GET_GAMES":return console.log(a.payload),Object(u.a)({},e,{games:Object.assign({},e,{games:a.payload})});default:return e}},authReducer:v}),y=[s.a],T=Object(i.createStore)(w,{},Object(m.composeWithDevTools)(i.applyMiddleware.apply(void 0,y))),k=t(20),x=t(41),I={textAlign:"center"};function D(){return r.a.createElement("div",null,r.a.createElement("body",{style:I},"Track the stat leaders for any game! Click on track games to begin"))}var N=t(109),A=t.n(N),O=function(e){return{type:"AUTH_SUCCESS",token:e}},j=function(e){return{type:"AUTH_FAIL",error:e}},S=function(){return localStorage.removeItem("user"),localStorage.removeItem("expirationDate"),{type:"AUTH_LOGOUT"}},G=function(e){return function(a){setTimeout((function(){a(S())}),1e3*e)}};var P=Object(x.f)(Object(c.b)(null,(function(e){return{logout:function(){return e(S())}}}))((function(e){return r.a.createElement("div",null,r.a.createElement("nav",{className:"navbar navbar-light bg-dark",role:"navigation","aria-label":"main navigation"},r.a.createElement("div",null,r.a.createElement(k.b,{className:"navbar-brand",to:"/"},"Logo")),r.a.createElement("div",{className:"mr-auto ml-auto"},r.a.createElement("div",{className:"navbar-item"},r.a.createElement(k.b,{to:"/games",className:"btn btn-md btn-outline-secondary mx-2"},r.a.createElement("strong",null,"Track Games")))),r.a.createElement("div",{className:""},r.a.createElement("div",{className:"navbar-item"},e.auth.isAuthenticated?r.a.createElement(k.b,{className:"btn btn-md btn-outline-secondary mx-2",onClick:e.logout},r.a.createElement("strong",null,"Logout")):r.a.createElement("div",null,r.a.createElement(k.b,{to:"/login",className:"btn btn-md btn-outline-secondary mx-2"},r.a.createElement("strong",null,"Login")),r.a.createElement(k.b,{to:"/register",className:"btn btn-md btn-outline-secondary mx-2"},r.a.createElement("strong",null,"Register")))))))}))),L=t(57),C=t.n(L),F=t(75),R=t(40),U=t(361),_=t(362),H=t(363),W=t(367),q=t(364),B=t(155),V=t.n(B),z=function(){return r.a.createElement(n.Fragment,null,r.a.createElement("img",{src:V.a,style:{width:"200px",margin:"auto",display:"block"},alt:"Loading..."}))},M=t(353),Y=Object(M.a)({root:{flexGrow:1},gamesPaper:{paddingRight:50,paddingLeft:50,marginBottom:30,height:500,width:300,overflowY:"auto",background:"#343a40"},showGamesItem:{marginLeft:-50,width:"auto",height:"auto","& p":{textAlign:"center",color:"black",marginTop:30}},gameInfoItem:{background:"white",minWidth:300,width:"auto",height:300},ListItem:{background:"pink",textAlign:"center",marginTop:30,marginBottom:30},datePickerGrid:{marginLeft:70,marginTop:50},gamesDisplayGrid:{marginLeft:40,marginTop:50},gameTableGrid:{marginLeft:70,marginTop:50}}),J=t(355),X=t(356),$=t(357),K=t(358),Q=t(359),Z=t(360),ee=t(86),ae=Object(M.a)({gameInfotable:{background:"#343a40",minWidth:600,width:"auto",height:300,marginRight:30,overflowX:"scroll"},table:{minWidth:500,width:"auto",background:"pink"},title:{flex:"1 1 100%",textAlign:"center"}}),te=function(e){var a=e.gameData,t=Object(n.useState)(),l=Object(R.a)(t,2),o=l[0],c=l[1];function i(){return(i=Object(F.a)(C.a.mark((function e(){var t,n,r,l,o;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==a){e.next=4;break}c(null),e.next=14;break;case 4:return t=a.gameId,n=a.startDateEastern,r="http://127.0.0.1:8000/games/".concat(n,"/").concat(t),e.next=9,fetch(r);case 9:return l=e.sent,e.next=12,l.json();case 12:o=e.sent,c(o);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(n.useEffect)((function(){!function(){i.apply(this,arguments)}()}),[a]);var m=ae();if(null===a)return r.a.createElement(n.Fragment,null,r.a.createElement(J.a,null,r.a.createElement(ee.a,{variant:"h6",id:"tableTitle"},"Please choose a Game")));if(null==o)return r.a.createElement(z,null);if(null!=o&&null==o.stats)return r.a.createElement(n.Fragment,null,r.a.createElement("div",null,r.a.createElement(ee.a,{className:m.title,variant:"h6",id:"tableTitle"},"No stats available now. Check again when the game starts."),r.a.createElement(J.a,{className:m.gameInfoTable},r.a.createElement(X.a,{className:m.gameInfotable,"aria-label":"simple table"},r.a.createElement($.a,null,r.a.createElement(K.a,null,r.a.createElement(Q.a,null,"Game Start"))),r.a.createElement(Z.a,null,r.a.createElement(K.a,null,r.a.createElement(Q.a,{component:"th"},o.basicGameData.startTimeEastern)))))));console.log(o);var s=o.stats.vTeam.leaders,u=o.stats.hTeam.leaders;return r.a.createElement(n.Fragment,null,r.a.createElement(U.a,{item:!0,xs:12,sm:6,className:m.gameInfotable},r.a.createElement(J.a,{className:m.table},r.a.createElement(ee.a,{className:m.title,variant:"h6",id:"tableTitle"},o.basicGameData.vTeam.triCode+" VS "+o.basicGameData.hTeam.triCode),r.a.createElement(X.a,{"aria-label":"simple table"},r.a.createElement($.a,null,r.a.createElement(K.a,null,r.a.createElement(Q.a,null,"Team"),r.a.createElement(Q.a,null,"Points"),r.a.createElement(Q.a,null,"Rebounds"),r.a.createElement(Q.a,null,"Assist"))),r.a.createElement(Z.a,null,r.a.createElement(K.a,null,r.a.createElement(Q.a,{component:"th"},o.basicGameData.vTeam.triCode),r.a.createElement(Q.a,null,s.points.players[0].lastName+": "+s.points.value),r.a.createElement(Q.a,null,s.rebounds.players[0].lastName+": "+s.rebounds.value),r.a.createElement(Q.a,null,s.assists.players[0].lastName+": "+s.assists.value)),r.a.createElement(K.a,null,r.a.createElement(Q.a,{component:"th"},o.basicGameData.hTeam.triCode),r.a.createElement(Q.a,null,u.points.players[0].lastName+": "+u.points.value),r.a.createElement(Q.a,null,u.rebounds.players[0].lastName+": "+u.rebounds.value),r.a.createElement(Q.a,null,u.assists.players[0].lastName+": "+u.assists.value)))))))},ne=t(174),re=(t(205),Object(M.a)({root:{flexGrow:1},gamesPaper:{paddingRight:50,paddingLeft:50,marginBottom:30,height:500,width:300,overflowY:"auto",background:"#343a40"},showGamesItem:{marginLeft:-50,width:"auto",height:"auto","& p":{textAlign:"center",color:"black",marginTop:30}},gameInfoItem:{background:"white",minWidth:300,width:"auto",height:300},ListItem:{background:"pink",textAlign:"center",marginTop:30,marginBottom:30},table:{minWidth:300,width:"auto"},title:{flex:"1 1 100%",textAlign:"center"},datePickerGrid:{marginLeft:100,marginTop:50},gamesDisplayGrid:{marginLeft:100,marginTop:50},datePicker:{backgroundColor:"#D3D3D3",width:280,fontSize:"large",textAlign:"center"},gameTableGrid:{marginLeft:100,marginTop:50,backgroundColor:"red"}}));function le(e){var a=e.gamesDate,t=e.handleClick,n=re();return r.a.createElement("div",null,r.a.createElement(U.a,null,r.a.createElement("div",null,r.a.createElement(ne.a,{selected:a,value:a,onChange:function(e){t(e)},minDate:new Date(2015,10,6),maxDate:new Date(2020,2,11),className:n.datePicker}))))}function oe(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];null==e&&(e=new Date);var n=e.getDate(),r=e.getMonth()+1,l=e.getFullYear();return t?"".concat(r<10?"0".concat(r):"".concat(r)).concat(a).concat(n<10?"0".concat(n):"".concat(n)).concat(a).concat(l):"".concat(l).concat(a).concat(r<10?"0".concat(r):"".concat(r)).concat(a).concat(n<10?"0".concat(n):"".concat(n))}var ce=function(){var e=Object(n.useState)(null),a=Object(R.a)(e,2),t=a[0],l=a[1],o=Object(n.useState)(null),c=Object(R.a)(o,2),i=c[0],m=c[1],s=Object(n.useState)(null),u=Object(R.a)(s,2),g=u[0],d=u[1],p=Y();function h(){return(h=Object(F.a)(C.a.mark((function e(){var a,t,n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null===g&&d(new Date(2020,2,11)),a=oe(g),e.prev=2,e.next=5,fetch("http://127.0.0.1:8000/games/".concat(a));case 5:return t=e.sent,e.next=8,t.json();case 8:n=e.sent,l(n),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[2,12]])})))).apply(this,arguments)}if(Object(n.useEffect)((function(){!function(){h.apply(this,arguments)}()}),[g]),null==t)return r.a.createElement(z,null);var f=t.games;return r.a.createElement(U.a,{container:!0,direction:"row",alignItems:"flex-start",spacing:1,className:p.root},r.a.createElement(U.a,{className:p.datePickerGrid,item:!0,xs:2},r.a.createElement("h4",null,"Pick a date "),r.a.createElement(le,{gamesDate:new Date,handleClick:function(e){d(e)}})),r.a.createElement(U.a,{className:p.gamesDisplayGrid,item:!0,xs:3},r.a.createElement("h4",null,"Games on ",oe(g,"/",!0),":"),r.a.createElement(_.a,{className:p.gamesPaper},r.a.createElement(n.Fragment,null,r.a.createElement(H.a,null,f.map((function(e){return r.a.createElement(W.a,{key:e.gameId,button:!0,className:p.ListItem,onClick:function(){m(e)}},r.a.createElement(q.a,{primary:e.vTeam.triCode+" VS "+e.hTeam.triCode}))})))))),r.a.createElement(U.a,{container:!0,item:!0,xs:4,spacing:3,className:p.gameTableGrid},r.a.createElement("h4",null,"Game Track"),r.a.createElement(te,{gameData:i})))},ie=t(366),me=t(368),se=t(115),ue=t(369),ge=t(370),de=(t(206),t(365)),pe=Object(c.b)((function(e){return{loading:e.loading,error:e.error}}),(function(e){return{onAuth:function(a,t){return e(function(e,a){return function(t){t({type:"AUTH_START"}),A.a.post("http://localhost:8000/rest-auth/login/",{username:e,password:a}).then((function(e){var a=e.data.key,n=new Date((new Date).getTime()+36e5);localStorage.setItem("token",a),localStorage.setItem("expirationDate",n),t(O(a)),t(G(3600))})).catch((function(e){t(j(e)),console.log("Could not login :(",e)}))}}(a,t))}}}))((function(e){var a=null;return e.error&&(a=r.a.createElement("p",null,e.error.message)),r.a.createElement("div",null,a,e.loading?r.a.createElement(de.a,null):r.a.createElement(ie.a,{name:"normal_login",className:"login-form",initialValues:{remember:!0},onFinish:function(a){e.onAuth(a.username,a.password),e.history.push("/")}},r.a.createElement(ie.a.Item,{name:"username",rules:[{required:!0,message:"Please input your Username!"}]},r.a.createElement(me.a,{prefix:r.a.createElement(ue.a,{className:"site-form-item-icon"}),placeholder:"Username"})),r.a.createElement(ie.a.Item,{name:"password",rules:[{required:!0,message:"Please input your Password!"}]},r.a.createElement(me.a,{prefix:r.a.createElement(ge.a,{className:"site-form-item-icon"}),type:"password",placeholder:"Password"})),r.a.createElement(ie.a.Item,null,r.a.createElement(ie.a.Item,{name:"remember",valuePropName:"checked",noStyle:!0}),r.a.createElement("a",{className:"login-form-forgot",href:""},"Forgot password")),r.a.createElement(ie.a.Item,null,r.a.createElement(se.a,{type:"primary",htmlType:"submit",style:{marginRight:"10px"}},"Login"),"Or",r.a.createElement(k.b,{style:{marginLeft:"10px",marginRight:"10px"},to:"/register"},"Sign Up"))))})),he=Object(c.b)((function(e){return{loading:e.loading,error:e.error}}),(function(e){return{onAuth:function(a,t,n,r){return e(function(e,a,t,n){return function(r){r({type:"AUTH_START"}),A.a.post("http://127.0.0.1:8000/rest-auth/registration",{username:e,email:a,password1:t,password2:n}).then((function(e){var a=e.data.key,t=new Date((new Date).getTime()+36e5);localStorage.setItem("token",a),localStorage.setItem("expirationDate",t),r(O(a)),r(G(3600))})).catch((function(e){r(j(e)),console.log("Could not register",e)}))}}(a,t,n,r))}}}))((function(e){var a=ie.a.useForm(),t=Object(R.a)(a,1)[0];return r.a.createElement(ie.a,{form:t,name:"register",onFinish:function(a){e.onAuth(a.username,a.email,a.password1,a.password2,a.confirm)},initialValues:{residence:["zhejiang","hangzhou","xihu"],prefix:"86"},scrollToFirstError:!0},r.a.createElement(ie.a.Item,{name:"email",label:"E-mail",rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your E-mail!"}]},r.a.createElement(me.a,null)),r.a.createElement(ie.a.Item,{name:"username",label:"Username",rules:[{required:!0,message:"Please input your username!"}]},r.a.createElement(me.a,null)),r.a.createElement(ie.a.Item,{name:"password",label:"Password",rules:[{required:!0,message:"Please input your password!"}],hasFeedback:!0},r.a.createElement(me.a.Password,null)),r.a.createElement(ie.a.Item,{name:"confirm",label:"Confirm Password",dependencies:["password"],hasFeedback:!0,rules:[{required:!0,message:"Please confirm your password!"},function(e){var a=e.getFieldValue;return{validator:function(e,t){return t&&a("password")!==t?Promise.reject("The two passwords that you entered do not match!"):Promise.resolve()}}}]},r.a.createElement(me.a.Password,null)),r.a.createElement(ie.a.Item,null,r.a.createElement(se.a,{type:"primary",htmlType:"submit",style:{marginRight:"10px"}},"Register"),"Or",r.a.createElement(k.b,{style:{marginLeft:"10px",marginRight:"10px"},to:"/login"},"Login")))}));var fe=Object(c.b)((function(e){return{isAuthenticated:null!==e.authReducer.token}}),(function(e){return{onTryAutoSignup:function(){return e((function(e){var a=localStorage.getItem("token");if(void 0===a)e(S());else{var t=new Date(localStorage.getItem("expirationDate"));t<=new Date?e(S()):(e(O(a)),e(G((t.getTime()-(new Date).getTime())/1e3)))}}))}}}))((function(e){return Object(n.useEffect)((function(){console.log("App js",e.isAuthenticated),e.onTryAutoSignup()})),r.a.createElement(k.a,null,r.a.createElement(n.Fragment,null,r.a.createElement(P,{auth:e}),r.a.createElement(x.c,null,r.a.createElement(x.a,{exact:!0,path:"/",component:D}),r.a.createElement(x.a,{exact:!0,path:"/games",component:ce}),r.a.createElement(x.a,{exact:!0,path:"/login",component:pe}),r.a.createElement(x.a,{exact:!0,path:"/register",component:he}))))}));t(335),t(336),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ee=r.a.createElement(c.a,{store:T},r.a.createElement(fe,null));o.a.render(Ee,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[179,1,2]]]);
//# sourceMappingURL=main.3f4c6a79.chunk.js.map